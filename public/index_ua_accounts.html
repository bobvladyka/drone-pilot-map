<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
<title>–ö–∞—Ä—Ç–∞ –ø—ñ–ª–æ—Ç—ñ–≤ –¥—Ä–æ–Ω—ñ–≤ —É –ß–µ—Ö—ñ—ó ‚Äì –ó–Ω–∞–π–¥–∏ –∞–±–æ –ø—Ä–∏—î–¥–Ω–∞–π—Å—è | –Ñ–¥–Ω–∞—î–º–æ –ø—ñ–ª–æ—Ç—ñ–≤ —Ç–∞ –∫–ª—ñ—î–Ω—Ç—ñ–≤</title>

<meta name="description" content="–®—É–∫–∞—î—à –ø—ñ–ª–æ—Ç–∞ –¥—Ä–æ–Ω–∞ —á–∏ —Ö–æ—á–µ—à –±—É—Ç–∏ –≤–∏–¥–∏–º–∏–º –Ω–∞ –∫–∞—Ä—Ç—ñ? –ó–Ω–∞–π–¥–∏ –ø—ñ–ª–æ—Ç–∞ –∑–∞ –º—ñ—Å—Ü–µ–º, —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—î—é, –æ–±–ª–∞–¥–Ω–∞–Ω–Ω—è–º —Ç–∞ –ø—Ä–∏—î–¥–Ω—É–π—Å—è –¥–æ –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ—ó —Å–ø—ñ–ª—å–Ω–æ—Ç–∏." />

<meta name="robots" content="index, follow" />
<link rel="canonical" href="https://www.najdipilota.cz/" />

<meta property="og:title" content="–ö–∞—Ä—Ç–∞ –ø—ñ–ª–æ—Ç—ñ–≤ –¥—Ä–æ–Ω—ñ–≤ —É –ß–µ—Ö—ñ—ó" />
<meta property="og:description" content="–Ñ–¥–Ω–∞—î–º–æ –∫–ª—ñ—î–Ω—Ç—ñ–≤ –∑ –ø—ñ–ª–æ—Ç–∞–º–∏ –¥—Ä–æ–Ω—ñ–≤. –ü–æ–∫–∞–∑—É–π —Å–µ–±–µ –Ω–∞ –∫–∞—Ä—Ç—ñ –∞–±–æ –∑–Ω–∞–π–¥–∏ –ø—ñ–ª–æ—Ç–∞ –ø–æ—Ä—É—á." />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://www.najdipilota.cz/" />
<meta property="og:image" content="icons/logo.png" />

<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
<link rel="stylesheet" href="style.css" />
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.css" />
<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.Default.css" />
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flag-icons/css/flag-icons.min.css">

</head>
<body>

<nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom">
  <div class="container">
    <a class="navbar-brand fw-bold d-flex align-items-center" href="/index_ua.html">
      <img src="/icons/logo.png" alt="–õ–æ–≥–æ—Ç–∏–ø NajdiPilota.cz" height="60" class="me-2" />
      <span class="fs-4">NajdiPilota.cz</span>
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNavbar" aria-controls="mainNavbar" aria-expanded="false" aria-label="–ü–µ—Ä–µ–º–∫–Ω—É—Ç–∏ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—é">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="mainNavbar">
      <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link" href="/index_ua.html">–ö–∞—Ä—Ç–∞</a>
        </li>
        <li class="nav-item" id="messages-nav-item" style="display:none;">
          <a class="nav-link" href="/moje-zpravy.html"><i class="bi bi-envelope me-1"></i>–ú–æ—ó –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è</a>
        </li>
        <li class="nav-item" id="poptavky-nav-item" style="display:none;">
          <a class="nav-link" href="/poptavky.html"><i class="bi bi-briefcase-fill me-1"></i>–ó–∞–ø–∏—Ç–∏</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/o-projektu.html">–ü—Ä–æ –ø—Ä–æ—î–∫—Ç</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/kontakt.html">–ö–æ–Ω—Ç–∞–∫—Ç</a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="langDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            üåê –ú–æ–≤–∞
          </a>
          <ul class="dropdown-menu" aria-labelledby="langDropdown">
            <li><a class="dropdown-item" href="/index.html"><span class="fi fi-cz me-2"></span>ƒåesky</a></li>
            <li><a class="dropdown-item" href="/index_en.html"><span class="fi fi-gb me-2"></span>English</a></li>
            <li><a class="dropdown-item" href="/index_ua.html"><span class="fi fi-ua me-2"></span>–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞</a></li>
          </ul>
        </li>
      </ul>
      <button id="login-button" class="pilot-login-btn btn-sm user-action d-flex align-items-center justify-content-center px-3 py-2">
        <i class="bi bi-person-badge me-2"></i><span id="login-toggle">–£–≤—ñ–π—Ç–∏ —è–∫ –ø—ñ–ª–æ—Ç</span>
      </button>
    </div>
  </div>
</nav>

<div class="container py-4">
  <h1 class="text-center"><i class="bi bi-map-fill me-2"></i>–ö–∞—Ä—Ç–∞ –ø—ñ–ª–æ—Ç—ñ–≤ –¥—Ä–æ–Ω—ñ–≤ —É –ß–µ—Ö—ñ—ó</h1>
  <p id="user-status" class="text-center fw-bold mb-3"></p>

  <section class="mb-5">
    <p><strong>–®—É–∫–∞—î—à –ø—ñ–ª–æ—Ç–∞ –¥—Ä–æ–Ω–∞ –ø–æ—Ä—É—á?</strong> –ê–±–æ —Å–∞–º –ª—ñ—Ç–∞—î—à —ñ —Ö–æ—á–µ—à –±—É—Ç–∏ –≤–∏–¥–∏–º–∏–º?</p>
    <p>–¶—è –∫–∞—Ä—Ç–∞ –∑‚Äô—î–¥–Ω—É—î –∫–ª—ñ—î–Ω—Ç—ñ–≤ —ñ –ø—ñ–ª–æ—Ç—ñ–≤. –ó–Ω–∞–π–¥–∏ –Ω–∞–¥—ñ–π–Ω–æ–≥–æ –ø—ñ–ª–æ—Ç–∞ –∑–∞ –º—ñ—Å—Ü–µ–º, –æ–±–ª–∞–¥–Ω–∞–Ω–Ω—è–º –∞–±–æ —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—î—é ‚Äî –∞–±–æ –∑–∞—Ä–µ—î—Å—Ç—Ä—É–π—Å—è —Å–∞–º —ñ –æ—Ç—Ä–∏–º—É–π –Ω–æ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –¥–ª—è –ø–æ–ª—å–æ—Ç—ñ–≤ —Ç–∞ –∑–∞—Ä–æ–±—ñ—Ç–∫—É.</p>
    <ul>
      <li><strong>–®–≤–∏–¥–∫–∏–π –∑–≤‚Äô—è–∑–æ–∫</strong> –±–µ–∑ –∑–∞–π–≤–∏—Ö —Ñ–æ—Ä–º</li>
      <li><strong>–ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω—ñ –ø—ñ–ª–æ—Ç–∏</strong> –∑ –ø—Ä–æ—Ñ—ñ–ª–µ–º —Ç–∞ –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏</li>
      <li><strong>–ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –ø—ñ–¥–∑–∞—Ä–æ–±—ñ—Ç–∫—É</strong> –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –ø—ñ–ª–æ—Ç–∞</li>
    </ul>
    <p><strong>–ü–æ—á–Ω–∏, –Ω–∞—Ç–∏—Å–Ω—É–≤—à–∏ –Ω–∞ –ø—ñ–ª–æ—Ç–∞ –Ω–∞ –∫–∞—Ä—Ç—ñ, –∞–±–æ —É–≤—ñ–π–¥–∏ —Ç–∞ –ø—Ä–∏—î–¥–Ω—É–π—Å—è!</strong></p>
  </section>

  <h2><i class="bi bi-geo-alt-fill text-danger me-2"></i>–°–ø–∏—Å–æ–∫ –ø—ñ–ª–æ—Ç—ñ–≤ –Ω–∞ –∫–∞—Ä—Ç—ñ</h2>
  <p>–ù–∞ –∫–∞—Ä—Ç—ñ –Ω–∏–∂—á–µ –ø–æ–∫–∞–∑–∞–Ω—ñ –≤—Å—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ –ø—ñ–ª–æ—Ç–∏. –ù–∞—Ç–∏—Å–Ω–∏ –Ω–∞ —ñ–∫–æ–Ω–∫—É, —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏ —ó—Ö –ø—Ä–æ—Ñ—ñ–ª—å, –æ–±–ª–∞–¥–Ω–∞–Ω–Ω—è —Ç–∞ –∫–æ–Ω—Ç–∞–∫—Ç.</p>
  <div id="map" class="mt-4"></div>
</div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="https://unpkg.com/leaflet.markercluster/dist/leaflet.markercluster.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
  const map = L.map('map').setView([49.8, 15.5], 7);
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; OpenStreetMap',
    maxZoom: 18
  }).addTo(map);

  const markers = L.markerClusterGroup();

  fetch('/pilots')
    .then(res => res.json())
    .then(data => {
      data.forEach(p => {
        if (p.visible !== "ANO") return;
        if (p.latitude != null && p.longitude != null) {
          const isAvailable = p.available === "ANO";
          let html = `<div class="pilot-card">`;
          
          if (!p.hasPublicConsent) {
            html += `<h3><i class="bi bi-person-circle me-1"></i>–ê–Ω–æ–Ω—ñ–º</h3>
              <div class="d-flex flex-wrap gap-2 mb-2">
                ${p.volunteer === 'ANO' ? `<span class="badge-volunteer">–î–æ–±—Ä–æ–≤–æ–ª–µ—Ü—å</span>` : ''}
                <span class="badge-gdpr">–ë–µ–∑ –∑–≥–æ–¥–∏ GDPR ‚Äì –∫–æ–Ω—Ç–∞–∫—Ç —á–µ—Ä–µ–∑ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞</span>
              </div>
              ${p.specialization ? `<p><i class="bi bi-puzzle-fill me-1"></i><strong>–°–ø–µ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è:</strong> ${p.specialization}</p>` : ''}`;
          } else {
            html += `<h3><i class="bi bi-person-circle me-1"></i>${p.name}</h3>`;
            if (p.volunteer === 'ANO') {
              html += `<div class="mb-2"><span class="badge-volunteer">–î–æ–±—Ä–æ–≤–æ–ª–µ—Ü—å</span></div>`;
            }
            if (p.drones) html += `<p><i class="bi bi-drone me-1"></i><strong>–î—Ä–æ–Ω–∏:</strong> ${p.drones}</p>`;
            if (p.specialization) html += `<p><i class="bi bi-puzzle-fill me-1"></i><strong>–°–ø–µ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è:</strong> ${p.specialization}</p>`;
            if (p.note) html += `<p><i class="bi bi-chat-left-text me-1"></i><strong>–ü—Ä–æ –º–µ–Ω–µ:</strong> ${p.note}</p>`;
            if (p.travel) html += `<p><i class="bi bi-signpost me-1"></i><strong>–í–∏—ó–∑–¥:</strong> ${p.travel}</p>`;
            if (p.licenses) html += `<p><i class="bi bi-award me-1"></i><strong>–õ—ñ—Ü–µ–Ω–∑—ñ—ó:</strong> ${p.licenses}</p>`;
            html += `<div class="mt-3"><button class="pilot-login-btn btn-sm user-action d-flex align-items-center justify-content-center px-3 py-2 w-100" onclick="contactPilot('${p.email}')">‚úâÔ∏è –ù–∞–ø–∏—Å–∞—Ç–∏ –ø—ñ–ª–æ—Ç—É</button></div>`;
          }
          
          html += `</div>`;

          // Styl koleƒçek podle typu √∫ƒç—Ç—É
          let circleOptions = {
            radius: 2000,
            fillOpacity: 0.2,
            color: isAvailable ? 'green' : 'gray',
            fillColor: isAvailable ? '#4CAF50' : '#CCCCCC',
            weight: 1
          };

          if (p.type_account === "Free") {
            circleOptions.color = 'lightgreen';
            circleOptions.fillColor = 'lightgreen';
            circleOptions.fillOpacity = 0.2;
            circleOptions.radius = 2000;
          } else if (p.type_account === "Basic") {
            circleOptions.color = 'darkgreen';
            circleOptions.fillColor = 'darkgreen';
            circleOptions.fillOpacity = 0.5;
            circleOptions.radius = 5000;
          } else if (p.type_account === "Premium") {
            circleOptions.color = 'purple';
            circleOptions.fillColor = 'purple';
            circleOptions.fillOpacity = 0.8;
            circleOptions.radius = 10000;
            circleOptions.weight = 3;
          }

          const circle = L.circle([p.latitude, p.longitude], circleOptions).bindPopup(html);
          markers.addLayer(circle);
        }
      });
      map.addLayer(markers);
      if (markers.getBounds().isValid()) map.fitBounds(markers.getBounds(), {padding:[30,30]});
    });

  function contactPilot(pilotEmail) {
    const currentUserEmail = localStorage.getItem('loggedEmail') || localStorage.getItem('inzerentEmail');
    if (!currentUserEmail) {
      alert("–î–ª—è –∑–≤‚Äô—è–∑–∫—É –∑ –ø—ñ–ª–æ—Ç–∞–º–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ —É–≤—ñ–π—Ç–∏.");
      return;
    }
  }
</script>

<footer class="footer mt-5 pt-4 pb-4 bg-light border-top">
  <div class="container">
    <div class="d-flex justify-content-between align-items-center small text-muted">
      <span>&copy; <span id="year"></span> NajdiPilota.cz</span>
    </div>
  </div>
</footer>
<script>document.addEventListener("DOMContentLoaded", () => {document.getElementById("year").textContent = new Date().getFullYear();});</script>

</body>
</html>